<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - J Bakery</title>

    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
</head>

<body class="d-flex flex-column min-vh-100">

    <!-- NAVBAR -->
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
            <div class="container">
                <a class="navbar-brand" href="/">
                    <img src="~/images/logo.png" alt="J Bakery Logo" style="height:65px;" />
                </a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    @{
                        var currentController = ViewContext.RouteData.Values["Controller"]?.ToString();
                        var currentAction = ViewContext.RouteData.Values["Action"]?.ToString();
                    }

                    <ul class="navbar-nav ms-auto">

                        <li class="nav-item">
                            <a class="nav-link @(currentController == "Home" && currentAction == "Index" ? "active-nav" : "")"
                               asp-controller="Home"
                               asp-action="Index">
                                Home
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link @(currentController == "Home" && currentAction == "Menu" ? "active-nav" : "")"
                               asp-controller="Home"
                               asp-action="Menu">
                                Menu
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link @(currentController == "Home" && currentAction == "Contact" ? "active-nav" : "")"
                               asp-controller="Home"
                               asp-action="Contact">
                                Contact
                            </a>
                        </li>

                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- MAIN CONTENT -->
    <main class="flex-fill">
        <div class="container pb-4">
            @RenderBody()
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="text-center py-4 text-white" style="background-color:#b11226;">
        <p class="mb-1 fw-bold">
            © @DateTime.Now.Year J Bakery
        </p>
        <p class="mb-0">
            Pietermaritzburg | Fresh Muffins & Mini Scones
        </p>
    </footer>

    <!-- SCRIPTS -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

    <!-- FLOATING WHATSAPP -->
    <a href="https://wa.me/27676229242"
       target="_blank"
       class="floating-whatsapp"
       aria-label="Chat on WhatsApp">

        <svg xmlns="http://www.w3.org/2000/svg"
             viewBox="0 0 32 32"
             width="26"
             height="26"
             fill="white">
            <path d="M19.11 17.39c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.09-.16.18-.32.21-.6.07-.28-.14-1.18-.43-2.25-1.36-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.43-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.48-.83-2.03-.22-.53-.45-.46-.61-.47h-.52c-.18 0-.48.07-.73.34-.25.28-.96.94-.96 2.3 0 1.36.99 2.67 1.13 2.86.14.18 1.95 2.98 4.73 4.18.66.28 1.17.45 1.57.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.31.23-.64.23-1.19.16-1.31-.07-.12-.25-.18-.53-.32z" />
            <path d="M16 3C9.38 3 4 8.38 4 15c0 2.39.7 4.61 1.91 6.48L4 29l7.73-1.88A11.94 11.94 0 0016 27c6.62 0 12-5.38 12-12S22.62 3 16 3zm0 21.8c-1.93 0-3.82-.52-5.47-1.51l-.39-.23-4.59 1.12 1.23-4.48-.25-.4A9.76 9.76 0 016.2 15c0-5.4 4.4-9.8 9.8-9.8S25.8 9.6 25.8 15 21.4 24.8 16 24.8z" />
        </svg>

    </a>

    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const navbar = document.querySelector("nav.navbar");

            window.addEventListener("scroll", function () {
                if (window.scrollY > 50) {
                    navbar.classList.add("scrolled");
                } else {
                    navbar.classList.remove("scrolled");
                }
            });
        });
    </script>
</body>
</html>